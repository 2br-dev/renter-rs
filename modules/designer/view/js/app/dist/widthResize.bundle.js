(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{422:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-atom-width-padding-wrapper"},[t.showResizerHandler("right")?i("div",{staticClass:"d-atom-width-padding d-left"},[t.isWithPaddingClass?i("span",{staticClass:"d-blow-pixels-wrapper d-left"},[i("span",{staticClass:"d-blow-pixels",class:{"d-show":"0px"!=t.leftPixels}},[t._v(t._s(t.leftPixels))])]):t._e(),t._v(" "),i("a",{staticClass:"d-round-width-handler d-left",on:{mousedown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:(e.preventDefault(),e.stopPropagation(),i=e,t.startDragWidth(i,"left"));var i},"&touchstart":function(e){return e.stopPropagation(),i=e,t.startDragWidth(i,"left");var i}}})]):t._e(),t._v(" "),t.showResizerHandler("left")?i("div",{staticClass:"d-atom-width-padding d-right"},[t.isWithPaddingClass?i("span",{staticClass:"d-blow-pixels-wrapper d-right"},[i("span",{staticClass:"d-blow-pixels",class:{"d-show":"0px"!=t.leftPixels}},[t._v(t._s(t.leftPixels))])]):t._e(),t._v(" "),i("a",{staticClass:"d-round-width-handler d-right",on:{mousedown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:(e.preventDefault(),e.stopPropagation(),i=e,t.startDragWidth(i,"right"));var i},"&touchstart":function(e){return e.stopPropagation(),i=e,t.startDragWidth(i,"right");var i}}})]):t._e()])};s._withStripped=!0;var n=i(366),a=i(1),o={data:()=>({leftPixels:"0px",atom:null,isInEditWidthMode:!1,isWithPaddingClass:!1,isNowDraggingWidth:!1,canMoveWidth:!0,widthDragSide:null,widthDragStep:10,columnWidth:null,columnMiddle:null,positionType:"center"}),mounted(){let t=this.getData();t.css["align-self"]&&(this.positionType=t.css["align-self"].value),document.addEventListener(this.$clickevent,this.checkRemoveEditMode),document.addEventListener("designer.change-align-self",this.alignPositionChange)},beforeDestroy(){this.removeRowEditClass(),document.removeEventListener(this.$clickevent,this.checkRemoveEditMode),document.removeEventListener("designer.change-align-self",this.alignPositionChange)},methods:{mouseDragWidthMove(t){let e,i,s=a.b.getMouseOrTouchMoveCoordinate(t,"x");switch(this.positionType){case"center":e="left"==this.widthDragSide?this.columnMiddle-s:s-this.columnMiddle,i=2*(e-e%this.widthDragStep)+20;break;case"flex-start":case"flex-end":e=Math.abs(this.columnMiddle-s),i=e-e%this.widthDragStep}i<100&&(i=100);let n=this.columnWidth-i;n=Math.round(n),n>30?(this.isWithPaddingClass=!0,this.leftPixels=i+"px"):this.isWithPaddingClass=!1,i>this.columnWidth&&(i=""),this.atom.css["max-width"].value=i?i+"px":i,this.$emit("resizeBlock")},stopDragWidth(t){this.setColumnDraggable(!0),this.body.removeEventListener(this.$mouseup,this.stopDragWidth),this.body.removeEventListener(this.$mousemove,this.mouseDragWidthMove),this.setAtomData(this.atom),setTimeout(()=>{this.isNowDraggingWidth=!1})},startDragWidth(t,e){this.setColumnDraggable(!1),this.atom=this.getData();let i=t.target.closest(".designer-col");switch(this.columnWidth=i.getBoundingClientRect().width,this.positionType){case"flex-start":this.columnMiddle=i.getBoundingClientRect().left;break;case"center":this.columnMiddle=i.getBoundingClientRect().left+this.columnWidth/2;break;case"flex-end":this.columnMiddle=i.getBoundingClientRect().left+this.columnWidth}this.body.addEventListener(this.$mouseup,this.stopDragWidth),this.body.addEventListener(this.$mousemove,this.mouseDragWidthMove),this.widthDragSide=e,this.isNowDraggingWidth=!0,a.b.closeAllPanels(),t.target.closest(".d-atom").classList.add("hover")},alignPositionChange(t){t.detail.itemId==this.itemId&&(this.atom=this.getData(),this.positionType=this.atom.css["align-self"].value)},checkRemoveEditMode(t){t.target.closest("#"+this.getAtomIdByBlockId())||(this.isInEditWidthMode=!1)},showResizerHandler(t){if("left"==t)switch(this.positionType){case"center":case"flex-start":return!0;case"flex-end":return!1}if("right"==t)switch(this.positionType){case"center":case"flex-end":return!0;case"flex-start":return!1}return!1}}},d={name:"WidthResize",mixins:[n.a,o],props:{itemId:{type:String,required:!0},blockId:{type:String,required:!0}}},l=i(98),r=Object(l.a)(d,s,[],!1,null,null,null);r.options.__file="-readyscript/modules/designer/view/js/app/src/components/designerblock/elements/widthresize/widthresize.vue";e.default=r.exports}}]);